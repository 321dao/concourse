---
name: atc

templates:
  drain: bin/drain
  atc_ctl.erb: bin/atc_ctl
  pipeline.yml.erb: config/pipeline.yml

packages:
  - pid_utils
  - atc

properties:
  atc.web_listen_port:
    description: "port for the web server to listen on"
    default: 8080

  atc.web_listen_address:
    description: "address for the web server to listen on"
    default: 0.0.0.0

  atc.basic_auth_username:
    description: "username for http basic auth"
    default: ""

  atc.basic_auth_encrypted_password:
    description: "bcrypt encrypted password for http basic auth"
    default: ""

  atc.turbine.address:
    description: "address of turbine server to use to run builds"
    default: turbine.service.dc1.consul:4637

  atc.pipeline:
    description: "pipeline configuration containing jobs and resources"
    default: {}

  atc.postgresql.address:
    description: "address of the PostgreSQL server"
    default: postgresql.service.dc1.consul:5432

  atc.postgresql.database:
    description: "name of the database to use"
    default: atc

  atc.postgresql.role.name:
    description: "name of role to connect with"
    default: atc

  atc.postgresql.role.password:
    description: "password to use when connecting"

  network_name:
    description: "name of the network that the job lives in; used to figure out our IP"
